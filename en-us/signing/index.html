<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta property="og:title" content="GPG Commit Signatures - Docs"></meta>
 		
		<meta property="og:description" content="" />
		
		<meta property="og:type" content="article"></meta>
		<meta property="og:url" content="https://ertlans.github.io/en-us/signing/"></meta>
		<meta property="og:image" content="https://docs.gitea.io/images/gitea.png"></meta>
		<meta name="generator" content="Hugo 0.69.2" />

		<title>GPG Commit Signatures - Docs</title>

		
		

		

		<link rel="canonical" href="https://ertlans.github.io/en-us/signing/">

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" />
		<link rel="stylesheet" href="https://ertlans.github.io/styles/main.css">

		<link rel="shortcut icon" type="image/x-icon" href="https://ertlans.github.io/images/favicon.png">
		<link rel="icon" type="image/x-icon" href="https://ertlans.github.io/images/favicon.png">
	</head>
	<body>

<nav class="navbar">
	<div class="container">
		<div class="navbar-brand">
			<a class="navbar-item" href="https://ertlans.github.io/">
				<img src="https://ertlans.github.io/images/gitea.png" alt="Docs">
			</a>
			<span class="navbar-burger burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
              <span></span>
              <span></span>
              <span></span>
            </span>
		</div>
		<div class="navbar-menu" id="navMenu">
			<div class="navbar-end">
				<span class="navbar-item logo"><img src="https://ertlans.github.io/images/gitea.png" alt="Docs"></span>

	<a class="navbar-item" href="https://gitea.io/en-us/">
		<i class="fa fa-home"></i>&nbsp;
		Website
	</a>

	<a class="navbar-item" href="/en-us/">
		<i class="fa fa-question"></i>&nbsp;
		Docs
	</a>

	<a class="navbar-item" href="https://blog.gitea.io/">
		<i class="fa fa-rss"></i>&nbsp;
		Blog
	</a>

	<a class="navbar-item" href="https://code.gitea.io/">
		<i class="fa fa-code"></i>&nbsp;
		Code
	</a>

	<a class="navbar-item" href="https://crowdin.com/project/gitea">
		<i class="fa fa-language"></i>&nbsp;
		Translation
	</a>

	<a class="navbar-item" href="https://try.gitea.io/api/swagger">
		<i class="fa fa-plug"></i>&nbsp;
		API
	</a>

	<a class="navbar-item" href="https://dl.gitea.io/">
		<i class="fa fa-download"></i>&nbsp;
		Downloads
	</a>

	<a class="navbar-item" href="https://github.com/go-gitea/">
		<i class="fa fa-github"></i>&nbsp;
		GitHub
	</a>

	<a class="navbar-item" href="https://discord.gg/Gitea">
		<i class="fa fa-comment"></i>&nbsp;
		Discord Chat
	</a>

	<a class="navbar-item" href="https://discourse.gitea.io/">
		<i class="fa fa-group"></i>&nbsp;
		Forum
	</a>


			</div>
		</div>
		<div class="navbar-background" id="navbar-background"></div>
	</div>
</nav>

<section class="section">
	<div class="container is-centered page">
		<div class="columns">
			<div class="column is-one-quarter">
				<aside class="menu">
	
		
			<p class="menu-label">
				
				Help
			</p>
			<ul class="menu-list">
				
					<li>
						<a href="/en-us/faq/" >
							
							FAQ
						</a>
					</li>
				
					<li>
						<a href="/en-us/seek-help/" >
							
							Support Options
						</a>
					</li>
				
			</ul>
		
	
		
			<p class="menu-label">
				
				Installation
			</p>
			<ul class="menu-list">
				
					<li>
						<a href="/en-us/install-with-docker/" >
							
							With Docker
						</a>
					</li>
				
					<li>
						<a href="/en-us/database-prep/" >
							
							Database preparation
						</a>
					</li>
				
					<li>
						<a href="/en-us/install-from-binary/" >
							
							From binary
						</a>
					</li>
				
					<li>
						<a href="/en-us/install-from-package/" >
							
							From package
						</a>
					</li>
				
					<li>
						<a href="/en-us/linux-service/" >
							
							Linux service
						</a>
					</li>
				
					<li>
						<a href="/en-us/install-from-source/" >
							
							From source
						</a>
					</li>
				
					<li>
						<a href="/en-us/windows-service/" >
							
							Windows Service
						</a>
					</li>
				
			</ul>
		
	
		
			<p class="menu-label">
				
				Upgrade
			</p>
			<ul class="menu-list">
				
					<li>
						<a href="/en-us/upgrade-from-gogs/" >
							
							From Gogs
						</a>
					</li>
				
			</ul>
		
	
		
			<p class="menu-label">
				
				Usage
			</p>
			<ul class="menu-list">
				
					<li>
						<a href="/en-us/command-line/" >
							
							Command Line
						</a>
					</li>
				
					<li>
						<a href="/en-us/backup-and-restore/" >
							
							Backup and Restore
						</a>
					</li>
				
					<li>
						<a href="/en-us/email-setup/" >
							
							Email setup
						</a>
					</li>
				
					<li>
						<a href="/en-us/pull-request/" >
							
							Pull Request
						</a>
					</li>
				
					<li>
						<a href="/en-us/automatically-linked-references/" >
							
							Automatically Linked References
						</a>
					</li>
				
					<li>
						<a href="/en-us/issue-pull-request-templates/" >
							
							Issue and Pull Request templates
						</a>
					</li>
				
					<li>
						<a href="/en-us/reverse-proxies/" >
							
							Reverse Proxies
						</a>
					</li>
				
			</ul>
		
	
		
			<p class="menu-label">
				
				Advanced
			</p>
			<ul class="menu-list">
				
					<li>
						<a href="/en-us/adding-legal-pages/" >
							
							Adding Legal Pages
						</a>
					</li>
				
					<li>
						<a href="/en-us/customizing-gitea/" >
							
							Customizing Gitea
						</a>
					</li>
				
					<li>
						<a href="/en-us/hacking-on-gitea/" >
							
							Hacking on Gitea
						</a>
					</li>
				
					<li>
						<a href="/en-us/config-cheat-sheet/" >
							
							Config Cheat Sheet
						</a>
					</li>
				
					<li>
						<a href="/en-us/signing/" class="is-active">
							
							GPG Commit Signatures
						</a>
					</li>
				
					<li>
						<a href="/en-us/specific-variables/" >
							
							Specific variables
						</a>
					</li>
				
					<li>
						<a href="/en-us/make/" >
							
							Make
						</a>
					</li>
				
					<li>
						<a href="/en-us/api-usage/" >
							
							API Usage
						</a>
					</li>
				
					<li>
						<a href="/en-us/ci-cd/" >
							
							CI/CD Usage
						</a>
					</li>
				
					<li>
						<a href="/en-us/cmd-embedded/" >
							
							Embedded data extraction tool
						</a>
					</li>
				
					<li>
						<a href="/en-us/external-renderers/" >
							
							External renderers
						</a>
					</li>
				
					<li>
						<a href="/en-us/repo-indexer/" >
							
							Repository indexer
						</a>
					</li>
				
					<li>
						<a href="/en-us/third-party-tools/" >
							
							Third Party Tools
						</a>
					</li>
				
					<li>
						<a href="/en-us/logging-configuration/" >
							
							Logging Configuration
						</a>
					</li>
				
					<li>
						<a href="/en-us/migrations-interfaces/" >
							
							Migrations Interfaces
						</a>
					</li>
				
					<li>
						<a href="/en-us/search-engines-indexation/" >
							
							Search Engines Indexation
						</a>
					</li>
				
			</ul>
		
	
		
			<p class="menu-label">
				
				features
			</p>
			<ul class="menu-list">
				
					<li>
						<a href="/en-us/comparison/" >
							
							Comparison
						</a>
					</li>
				
					<li>
						<a href="/en-us/authentication/" >
							
							Authentication
						</a>
					</li>
				
					<li>
						<a href="/en-us/localization/" >
							
							Localization
						</a>
					</li>
				
					<li>
						<a href="/en-us/webhooks/" >
							
							Webhooks
						</a>
					</li>
				
			</ul>
		
	
	</ul>
</aside>




			</div>
			<div class="column is-three-quarters">
				<div class="content">
					<h1 id="gpg-commit-signatures">GPG Commit Signatures</h1>
<p>Gitea will verify GPG commit signatures in the provided tree by
checking if the commits are signed by a key within the gitea database,
or if the commit matches the default key for git.</p>
<p>Keys are not checked to determine if they have expired or revoked.
Keys are also not checked with keyservers.</p>
<p>A commit will be marked with a grey unlocked icon if no key can be
found to verify it. If a commit is marked with a red unlocked icon,
it is reported to be signed with a key with an id.</p>
<p>Please note: The signer of a commit does not have to be an author or
committer of a commit.</p>
<p>This functionality requires git &gt;= 1.7.9 but for full functionality
this requires git &gt;= 2.0.0.</p>
<h2 id="automatic-signing">Automatic Signing</h2>
<p>There are a number of places where Gitea will generate commits itself:</p>
<ul>
<li>Repository Initialisation</li>
<li>Wiki Changes</li>
<li>CRUD actions using the editor or the API</li>
<li>Merges from Pull Requests</li>
</ul>
<p>Depending on configuration and server trust you may want Gitea to
sign these commits.</p>
<h2 id="installing-and-generating-a-gpg-key-for-gitea">Installing and generating a GPG key for Gitea</h2>
<p>It is up to a server administrator to determine how best to install
a signing key. Gitea generates all its commits using the server <code>git</code>
command at present - and therefore the server <code>gpg</code> will be used for
signing (if configured.) Administrators should review best-practices
for gpg - in particular it is probably advisable to only install a
signing secret subkey without the master signing and certifying secret
key.</p>
<h2 id="general-configuration">General Configuration</h2>
<p>Gitea&rsquo;s configuration for signing can be found with the
<code>[repository.signing]</code> section of <code>app.ini</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#a6e22e">...</span>
<span style="color:#66d9ef">[repository.signing]</span>
<span style="color:#a6e22e">SIGNING_KEY</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">default</span>
<span style="color:#a6e22e">SIGNING_NAME</span> <span style="color:#f92672">=</span>
<span style="color:#a6e22e">SIGNING_EMAIL</span> <span style="color:#f92672">=</span>
<span style="color:#a6e22e">INITIAL_COMMIT</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">always</span>
<span style="color:#a6e22e">CRUD_ACTIONS</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">pubkey, twofa, parentsigned</span>
<span style="color:#a6e22e">WIKI</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">never</span>
<span style="color:#a6e22e">MERGES</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">pubkey, twofa, basesigned, commitssigned</span>

<span style="color:#a6e22e">...</span>
</code></pre></div><h3 id="signing_key"><code>SIGNING_KEY</code></h3>
<p>The first option to discuss is the <code>SIGNING_KEY</code>. There are three main
options:</p>
<ul>
<li><code>none</code> - this prevents Gitea from signing any commits</li>
<li><code>default</code> - Gitea will default to the key configured within
<code>git config</code></li>
<li><code>KEYID</code> - Gitea will sign commits with the gpg key with the ID
<code>KEYID</code>. In this case you should provide a <code>SIGNING_NAME</code> and
<code>SIGNING_EMAIL</code> to be displayed for this key.</li>
</ul>
<p>The <code>default</code> option will interrogate <code>git config</code> for
<code>commit.gpgsign</code> option - if this is set, then it will use the results
of the <code>user.signingkey</code>, <code>user.name</code> and <code>user.email</code> as appropriate.</p>
<p>Please note: by adjusting git&rsquo;s <code>config</code> file within Gitea&rsquo;s
repositories, <code>SIGNING_KEY=default</code> could be used to provide different
signing keys on a per-repository basis. However, this is clearly not an
ideal UI and therefore subject to change.</p>
<h3 id="initial_commit"><code>INITIAL_COMMIT</code></h3>
<p>This option determines whether Gitea should sign the initial commit
when creating a repository. The possible values are:</p>
<ul>
<li><code>never</code>: Never sign</li>
<li><code>pubkey</code>: Only sign if the user has a public key</li>
<li><code>twofa</code>: Only sign if the user logs in with two factor authentication</li>
<li><code>always</code>: Always sign</li>
</ul>
<p>Options other than <code>never</code> and <code>always</code> can be combined as a comma
separated list.</p>
<h3 id="wiki"><code>WIKI</code></h3>
<p>This options determines if Gitea should sign commits to the Wiki.
The possible values are:</p>
<ul>
<li><code>never</code>: Never sign</li>
<li><code>pubkey</code>: Only sign if the user has a public key</li>
<li><code>twofa</code>: Only sign if the user logs in with two factor authentication</li>
<li><code>parentsigned</code>: Only sign if the parent commit is signed.</li>
<li><code>always</code>: Always sign</li>
</ul>
<p>Options other than <code>never</code> and <code>always</code> can be combined as a comma
separated list.</p>
<h3 id="crud_actions"><code>CRUD_ACTIONS</code></h3>
<p>This option determines if Gitea should sign commits from the web
editor or API CRUD actions. The possible values are:</p>
<ul>
<li><code>never</code>: Never sign</li>
<li><code>pubkey</code>: Only sign if the user has a public key</li>
<li><code>twofa</code>: Only sign if the user logs in with two factor authentication</li>
<li><code>parentsigned</code>: Only sign if the parent commit is signed.</li>
<li><code>always</code>: Always sign</li>
</ul>
<p>Options other than <code>never</code> and <code>always</code> can be combined as a comma
separated list.</p>
<h3 id="merges"><code>MERGES</code></h3>
<p>This option determines if Gitea should sign merge commits from PRs.
The possible options are:</p>
<ul>
<li><code>never</code>: Never sign</li>
<li><code>pubkey</code>: Only sign if the user has a public key</li>
<li><code>twofa</code>: Only sign if the user logs in with two factor authentication</li>
<li><code>basesigned</code>: Only sign if the parent commit in the base repo is signed.</li>
<li><code>headsigned</code>: Only sign if the head commit in the head branch is signed.</li>
<li><code>commitssigned</code>: Only sign if all the commits in the head branch to the merge point are signed.</li>
<li><code>approved</code>: Only sign approved merges to a protected branch.</li>
<li><code>always</code>: Always sign</li>
</ul>
<p>Options other than <code>never</code> and <code>always</code> can be combined as a comma
separated list.</p>
<h2 id="obtaining-the-public-key-of-the-signing-key">Obtaining the Public Key of the Signing Key</h2>
<p>The public key used to sign Gitea&rsquo;s commits can be obtained from the API at:</p>
<pre><code>/api/v1/signing-key.gpg
</code></pre><p>In cases where there is a repository specific key this can be obtained from:</p>
<pre><code>/api/v1/repos/:username/:reponame/signing-key.gpg
</code></pre>
				</div>
			</div>
		</div>
	</div>
</section>

		<footer class="footer">
			<div class="container">
				<div class="content has-text-centered">
					<p>
						Copyright &copy; 2020 <a href="https://docs.gitea.io">The Gitea Authors</a>. All rights reserved. Made with <i class="fa fa-heart" aria-hidden="true"></i> and <a href="https://gohugo.io">Hugo</a>.
					</p>
					<p>
						 Sponsored by <a href="https://www.didiyun.com">DiDi Cloud</a>, <a href="http://inblockchain.com">INBlockchain</a>, <a href="https://www.packet.com">Packet</a>, <a href="https://digitalocean.com">DigitalOcean</a>, and all of our backers on <a href="https://opencollective.com/gitea">Open Collective</a>.
					</p>
					<p>
						
						<a class="nav-link" href="https://ertlans.github.io/zh-cn" hreflang="zh-cn">中文(简体)</a>
						
						<a class="nav-link" href="https://ertlans.github.io/zh-tw" hreflang="zh-tw">中文(繁體)</a>
						
						<a class="nav-link" href="https://ertlans.github.io/pt-br" hreflang="pt-br">Português Brasileiro</a>
						
						<a class="nav-link" href="https://ertlans.github.io/nl-nl" hreflang="nl-nl">Nederlands</a>
						
						<a class="nav-link" href="https://ertlans.github.io/fr-fr" hreflang="fr-fr">Français</a>
						
						<a class="nav-link" href="https://ertlans.github.io/en-us" hreflang="en-us">English</a>
						
					</p>
				</div>
			</div>
		</footer>

		<script>
            document.addEventListener('DOMContentLoaded', function () {

                
                var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

                
                if ($navbarBurgers.length > 0) {

                    
                    $navbarBurgers.forEach(function ($el) {
                        $el.addEventListener('click', function () {

                            
                            var target = $el.dataset.target;
                            var $target = document.getElementById(target);

                            
                            $el.classList.toggle('is-active');
                            $target.classList.toggle('is-active');


                            document.getElementById('navbar-background').classList.toggle('is-active');


                        });
                    });
                }

				
				
				let svg = '  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" style="fill: currentColor; vertical-align: middle" width="24" height="24" viewBox="0 0 32 32"><title>gitea</title><path d="M5.583 7.229c-2.464-0.005-5.755 1.557-5.573 5.479 0.281 6.125 6.557 6.693 9.068 6.745 0.271 1.146 3.224 5.109 5.411 5.318h9.573c5.74-0.38 10.036-17.365 6.854-17.427-5.271 0.25-8.396 0.375-11.073 0.396v5.297l-0.839-0.365-0.005-4.932c-3.073 0-5.781-0.141-10.917-0.396-0.646-0.005-1.542-0.115-2.5-0.115zM5.927 9.396h0.297c0.349 3.141 0.917 4.974 2.068 7.781-2.938-0.349-5.432-1.198-5.891-4.38-0.24-1.646 0.563-3.365 3.526-3.401zM17.339 12.479c0.198 0.005 0.406 0.042 0.594 0.13l1 0.432-0.714 1.302c-0.109 0-0.219 0.016-0.323 0.052-0.464 0.151-0.708 0.604-0.542 1.021 0.036 0.083 0.089 0.161 0.151 0.229l-1.234 2.25c-0.099 0-0.203 0.016-0.297 0.052-0.464 0.146-0.708 0.604-0.542 1.016 0.172 0.417 0.682 0.63 1.151 0.479 0.464-0.146 0.703-0.604 0.536-1.021-0.047-0.109-0.115-0.208-0.208-0.292l1.203-2.188c0.13 0.010 0.26 0 0.391-0.042 0.104-0.031 0.198-0.083 0.281-0.151 0.464 0.198 0.844 0.354 1.12 0.49 0.406 0.203 0.552 0.339 0.599 0.49 0.042 0.146-0.005 0.427-0.24 0.922-0.172 0.37-0.458 0.896-0.797 1.51-0.115 0-0.229 0.016-0.333 0.052-0.469 0.151-0.708 0.604-0.542 1.021 0.167 0.411 0.682 0.625 1.146 0.479 0.469-0.151 0.708-0.604 0.542-1.021-0.042-0.099-0.104-0.193-0.182-0.271 0.333-0.609 0.62-1.135 0.807-1.526 0.25-0.536 0.38-0.938 0.266-1.323s-0.469-0.635-0.932-0.865c-0.307-0.151-0.693-0.313-1.146-0.505 0.005-0.109-0.010-0.214-0.052-0.318s-0.109-0.198-0.193-0.281l0.703-1.281 3.901 1.682c0.703 0.307 0.995 1.057 0.651 1.682l-2.682 4.906c-0.339 0.625-1.182 0.885-1.885 0.578l-5.516-2.38c-0.703-0.307-0.995-1.057-0.656-1.682l2.682-4.906c0.234-0.432 0.708-0.688 1.208-0.708h0.083z"></path></svg>';
				let contents = document.getElementsByClassName("content");
				if (contents.length > 0) {
					let content = contents[0];
					for (let level = 1; level <= 4; level++) {
						let elems = content.getElementsByTagName("h" + level);
						for (let i = 0; i < elems.length; i++) {
							let elem = elems[i];
							if (elem.id !== "undefined" && elem.id !== "") {
								let anchorId = elem.id + "-anchor";
								elem.addEventListener("mouseover", () => {
									document.getElementById(anchorId).style.display = "initial";
								});
								elem.addEventListener("mouseout", () => {
									document.getElementById(anchorId).style.display = "none";
								});
								let anchor = document.createElement("a");
								anchor.id = anchorId;
								anchor.href = "#" + elem.id;
								anchor.innerHTML = svg;
								anchor.style.display = "none";
								elem.appendChild(anchor);
							}
						}
					}
				}

            });
		</script>

		</body>
</html>

